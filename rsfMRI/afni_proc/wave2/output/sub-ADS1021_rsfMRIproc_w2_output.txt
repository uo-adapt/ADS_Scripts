-e 
Setting up AFNI
Mon Mar  4 11:55:10 PST 2019
/bin/bash
4
sub-ADS1021
sub-ADS1021
ADS
/projects/adapt_lab/shared/ADS
/projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA
/projects/adapt_lab/shared/ADS/data/BIDS_data/sub-ADS1021/ses-wave2/func
/projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/rsfMRI_preproc_wave2
/projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/rsfMRI_preproc_wave2 /projects/adapt_lab/shared/ADS/Scripts/rsfMRI/afni_proc/wave2 
"$subj" folder created
-- applying input view as +orig
** warning: removing first 5 TRs from beginning of each run
   --> the stimulus timing files must reflect the removal of these TRs
** WARNING: anat follower does not seem to exist: /projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA/aparc.a2009s+aseg_rank.nii.gz
   originally from /projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA/aparc.a2009s+aseg_rank.nii.gz
** warning: have duplicate anat follower: aparc.a2009s+aseg_rank.nii.gz
** WARNING: anat follower does not seem to exist: /projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA/aparc.a2009s+aseg_rank.nii.gz
   originally from /projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA/aparc.a2009s+aseg_rank.nii.gz
** WARNING: anat follower does not seem to exist: /projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA/sub-ADS1021_vent.nii.gz
   originally from /projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA/sub-ADS1021_vent.nii.gz
** WARNING: anat follower does not seem to exist: /projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA/sub-ADS1021_WM.nii.gz
   originally from /projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/freesurfer/sub-ADS1021_ses-wave2.long.sub-ADS1021/SUMA/sub-ADS1021_WM.nii.gz
-- will use min outlier volume as motion base
-- tcat: reps is now 505
++ updating polort to 5, from run len 707.0 s
-- volreg: using base dset vr_base_min_outlier+orig
++ volreg: applying volreg/epi2anat xforms to isotropic 3 mm voxels
-- applying anat warps to 3 dataset(s): aparc.a2009s+aseg_rank, sub-ADS1021_vent, sub-ADS1021_WM
-- have 4 ROI dict entries ...
-- will apply motion types: demean, deriv
-- have 1 PC ROIs to regress: FSvent
** masking single subject EPI is not recommended
   (see 'MASKING NOTE' from the -help for details)

-------------------------------------
** warning have only 1 run to analyze
-------------------------------------

--> script is file: rsfMRI_preproc_wave2.proc.sub-ADS1021
    consider the script execution command: 

      tcsh -xef rsfMRI_preproc_wave2.proc.sub-ADS1021 |& tee output.rsfMRI_preproc_wave2.proc.sub-ADS1021

auto-generated by afni_proc.py, Mon Mar  4 11:55:11 2019
(version 6.16, July 5, 2018)
execution started: Mon Mar  4 11:55:11 PST 2019
Precompiled binary linux_openmp_64: Jul  6 2018 (Version AFNI_18.2.04)
-- is current: afni_history as new as: 03 May 2018
               most recent entry is:   05 Jul 2018
min outlier: run 01, TR 3
#++ align_epi_anat version: 1.58
#++ turning off volume registration
#Script is running (command trimmed):
  3dAttribute DELTA ./vr_base_min_outlier+orig
#Script is running (command trimmed):
  3dAttribute DELTA ./vr_base_min_outlier+orig
#Script is running (command trimmed):
  3dAttribute DELTA ./sub-ADS1021_SurfVol+orig
#++ Multi-cost is lpc+ZZ
#++ Removing all the temporary files
#Script is running:
  \rm -f ./__tt_vr_base_min_outlier*
#Script is running:
  \rm -f ./__tt_sub-ADS1021_SurfVol*
#Script is running (command trimmed):
  3dcopy ./sub-ADS1021_SurfVol+orig ./__tt_sub-ADS1021_SurfVol+orig
#++ Removing skull from anat data
#Script is running (command trimmed):
  3dSkullStrip -orig_vol -input ./__tt_sub-ADS1021_SurfVol+orig -prefix ./__tt_sub-ADS1021_SurfVol_ns
#Script is running (command trimmed):
  3dinfo ./__tt_sub-ADS1021_SurfVol_ns+orig | \grep 'Data Axes Tilt:'|\grep 'Oblique'
#++ Dataset /gpfs/projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/rsfMRI_preproc_wave2/sub-ADS1021/sub-ADS1021.results/__tt_sub-ADS1021_SurfVol_ns+orig is not oblique
#Script is running (command trimmed):
  3dinfo ./vr_base_min_outlier+orig | \grep 'Data Axes Tilt:'|\grep 'Oblique'
#++ Dataset /gpfs/projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/rsfMRI_preproc_wave2/sub-ADS1021/sub-ADS1021.results/vr_base_min_outlier+orig is ***oblique****
#Script is running (command trimmed):
  3dAttribute DELTA ./__tt_sub-ADS1021_SurfVol_ns+orig
#++ Spacing for anat to oblique epi alignment is 1.000000
#++ Matching obliquity of anat to epi
#Script is running (command trimmed):
  3dWarp -verb -card2oblique ./vr_base_min_outlier+orig -prefix ./__tt_sub-ADS1021_SurfVol_ns_ob -newgrid 1.000000 ./__tt_sub-ADS1021_SurfVol_ns+orig | \grep -A 4 '# mat44 Obliquity Transformation ::' > ./__tt_sub-ADS1021_SurfVol_ns_obla2e_mat.1D
#++ using 0th sub-brick because only one found
#Script is running (command trimmed):
  3dbucket -prefix ./__tt_vr_base_min_outlier_ts ./vr_base_min_outlier+orig'[0]'
#++ removing skull or area outside brain
#Script is running (command trimmed):
  3dAutomask -apply_prefix ./__tt_vr_base_min_outlier_ts_ns ./__tt_vr_base_min_outlier_ts+orig
#++ Computing weight mask
#Script is running (command trimmed):
  3dBrickStat -automask -percentile 90.000000 1 90.000000 ./__tt_vr_base_min_outlier_ts_ns+orig
#++ Applying threshold of 789.746399 on /gpfs/projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/rsfMRI_preproc_wave2/sub-ADS1021/sub-ADS1021.results/__tt_vr_base_min_outlier_ts_ns+orig
#Script is running (command trimmed):
  3dcalc -datum float -prefix ./__tt_vr_base_min_outlier_ts_ns_wt -a ./__tt_vr_base_min_outlier_ts_ns+orig -expr 'min(1,(a/789.746399))'
#++ Aligning anat data to epi data
#Script is running (command trimmed):
  3dAllineate -lpc+ZZ -wtprefix ./__tt_sub-ADS1021_SurfVol_ns_ob_al_junk_wtal -weight ./__tt_vr_base_min_outlier_ts_ns_wt+orig -source ./__tt_sub-ADS1021_SurfVol_ns_ob+orig -prefix ./__tt_sub-ADS1021_SurfVol_ns_ob_temp_al_junk -base ./__tt_vr_base_min_outlier_ts_ns+orig -cmass -1Dmatrix_save ./sub-ADS1021_SurfVol_al_junk_e2a_only_mat.aff12.1D -master BASE -mast_dxyz 1.000000 -weight_frac 1.0 -maxrot 6 -maxshf 10 -VERB -warp aff -source_automask+4 -twobest 11 -twopass -VERB -maxrot 45 -maxshf 40 -fineblur 1 -source_automask+2 
#Script is running (command trimmed):
  cat_matvec -ONELINE ./sub-ADS1021_SurfVol_al_junk_e2a_only_mat.aff12.1D ./__tt_sub-ADS1021_SurfVol_ns_obla2e_mat.1D -I > ./sub-ADS1021_SurfVol_al_junk_mat.aff12.1D
#++ Combining anat to epi and oblique transformations
#Script is running (command trimmed):
  3dAllineate -base ./__tt_vr_base_min_outlier_ts_ns+orig -1Dmatrix_apply ./sub-ADS1021_SurfVol_al_junk_mat.aff12.1D -prefix ./sub-ADS1021_SurfVol_al_junk -input ./__tt_sub-ADS1021_SurfVol_ns+orig -master BASE -mast_dxyz 1.000000 -weight_frac 1.0 -maxrot 6 -maxshf 10 -VERB -warp aff -source_automask+4 -twobest 11 -twopass -VERB -maxrot 45 -maxshf 40 -fineblur 1 -source_automask+2
#++ Creating final output: skullstripped anat data
copying from dataset /gpfs/projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/rsfMRI_preproc_wave2/sub-ADS1021/sub-ADS1021.results/__tt_sub-ADS1021_SurfVol_ns+orig to /gpfs/projects/adapt_lab/shared/ADS/data/BIDS_data/derivatives/rsfMRI_preproc_wave2/sub-ADS1021/sub-ADS1021.results/sub-ADS1021_SurfVol_ns+orig
#Script is running (command trimmed):
  3dcopy ./__tt_sub-ADS1021_SurfVol_ns+orig sub-ADS1021_SurfVol_ns
#++ Creating final output: anat data aligned to epi
# copy is not necessary
#++ Saving history
#Script is running (command trimmed):
  3dNotes -h "align_epi_anat.py -anat2epi -anat sub-ADS1021_SurfVol+orig \
 -save_skullstrip -suffix _al_junk -epi vr_base_min_outlier+orig -epi_base \
 0 -epi_strip 3dAutomask -giant_move -cost lpc+ZZ -volreg off -tshift off" \
 ./sub-ADS1021_SurfVol_al_junk+orig

#++ Removing all the temporary files
#Script is running:
  \rm -f ./__tt_vr_base_min_outlier*
#Script is running:
  \rm -f ./__tt_sub-ADS1021_SurfVol*

# Finished alignment successfully

++ 3dAllineate: AFNI version=AFNI_18.2.04 (Jul  6 2018) [64-bit]
++ Authored by: Zhark the Registrator
++ Source dataset: ./anat_final.sub-ADS1021+orig.HEAD
++ Base dataset:   ./final_epi_vr_base_min_outlier+orig.HEAD
++ Loading datasets
++ 1521257 voxels in source_automask+0
++ Zero-pad: not needed
++ Computing -autobox
++ 299376 voxels [48.7%] in weight mask
++ Number of points for matching = 140706
++ Local correlation: blok type = 'RHDD(11.07)'
[7m*+ WARNING:[0m No output dataset will be calculated
++ OpenMP thread count = 1
 + initial Parameters = 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 1.0000 1.0000 1.0000 0.0000 0.0000 0.0000
++ allcost output: init #0
   ls   = 0.192129
   sp   = 0.395199
   mi   = -0.446497
   crM  = 0.0841349
   nmi  = 0.854639
   je   = 2.62514
   hel  = -0.0885685
   crA  = 0.290312
   crU  = 0.278232
   lss  = 0.807871
   lpc  = 0.25724
   lpa  = 0.74276
   lpc+ = 0.452759
   ncd  = 0.914021
++ 3dAllineate: total CPU time = 0.0 sec  Elapsed = 4.7
++ ###########################################################
Program 3dmerge 
3dmerge: edit and combine 3D datasets, by RW Cox
++ editing input dataset in memory (1183.1 MB)
.........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
++ 3dABoverlap: AFNI version=AFNI_18.2.04 (Jul  6 2018) [64-bit]
#A=./full_mask.sub-ADS1021+orig.BRIK  B=./mask_anat.sub-ADS1021+orig.BRIK
#A           #B           #(A uni B)   #(A int B)   #(A \ B)     #(B \ A)     %(A \ B)    %(B \ A)    Rx(B/A)    Ry(B/A)    Rz(B/A)
44103        58460        59103        43460        643          15000         1.4580     25.6586     1.0009     1.6433     0.9468
0.847479	
total number of censored TRs (simple form) = 53
-- no warnings for correlation matrix (cut = 0.400) --
Program 3dmerge 
3dmerge: edit and combine 3D datasets, by RW Cox
++ editing input dataset in memory (1183.1 MB)
.........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
-- GCOR =  0.0377541
average errts FWHM blurs: 0 0 0 0
average errts ACF blurs: 0.696139 2.60051 8.31879 6.8674
** failed to guess at any stats dset, resting state?
   (else X-matrix file "X.xmat.1D" may not apply)
++ writing ss review basic:          @ss_review_basic
** no stats_dset dset, cannot drive view_stats, skipping...
++ writing ss review driver:         @ss_review_driver
++ writing ss review drive commands: @ss_review_driver_commands

subject ID                : sub-ADS1021
TRs removed (per run)     : 5
num stim classes provided : 0
final anatomy dset        : anat_final.sub-ADS1021+orig.HEAD
final stats dset          : NO_STATS
final errts dset          : errts.sub-ADS1021.fanaticor+orig.HEAD
final voxel resolution    : 3.000000	3.000000	3.000000

motion limit              : 0.2
num TRs above mot limit   : 28
average motion (per TR)   : 0.0925306
average censored motion   : 0.0789912
max motion displacement   : 5.04446
max censored displacement : 5.04446
outlier limit             : 0.1
average outlier frac (TR) : 0.00532727
num TRs above out limit   : 1

num runs found            : 1
num TRs per run           : 505
num TRs per run (applied) : 452
num TRs per run (censored): 53
fraction censored per run : 0.10495
TRs total (uncensored)    : 505
TRs total                 : 452
degrees of freedom used   : 255
degrees of freedom left   : 197

TRs censored              : 53
censor fraction           : 0.104950
num regs of interest      : 0

TSNR average              : 212.733
global correlation (GCOR) : 0.0377541
anat/EPI mask Dice coef   : 0.847479
blur estimates (ACF)      : 0.696139 2.60051 8.31879
blur estimates (FWHM)     : 0 0 0


execution finished: Mon Mar  4 21:45:42 PST 2019
